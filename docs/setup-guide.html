<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Universal Browser MCP - Guia de Configuracao</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      min-height: 100vh;
      color: #e4e4e4;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    header {
      text-align: center;
      margin-bottom: 60px;
    }

    h1 {
      font-size: 2.5rem;
      background: linear-gradient(90deg, #00d4ff, #7b2cbf);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 10px;
    }

    .subtitle {
      color: #888;
      font-size: 1.1rem;
    }

    .badge {
      display: inline-block;
      background: linear-gradient(90deg, #10b981, #059669);
      color: #fff;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.75rem;
      margin-left: 10px;
      vertical-align: middle;
    }

    .section {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 30px;
    }

    .section h2 {
      color: #00d4ff;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .section h2 .num {
      background: #00d4ff;
      color: #1a1a2e;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
      font-weight: bold;
    }

    .mode-selector {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .mode-card {
      background: rgba(255, 255, 255, 0.03);
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .mode-card:hover {
      border-color: #00d4ff;
      transform: translateY(-3px);
    }

    .mode-card.active {
      border-color: #00d4ff;
      background: rgba(0, 212, 255, 0.1);
    }

    .mode-card h3 {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .mode-card h3 .icon {
      font-size: 1.5rem;
    }

    .mode-card p {
      color: #888;
      font-size: 0.9rem;
    }

    .mode-card .features {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .mode-card .features li {
      color: #10b981;
      font-size: 0.85rem;
      margin-bottom: 5px;
    }

    .command-box {
      background: #0d1117;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 20px;
      margin: 15px 0;
      position: relative;
    }

    .command-box code {
      color: #7ee787;
      font-family: 'Fira Code', 'Consolas', monospace;
      font-size: 0.95rem;
    }

    .command-box .comment {
      color: #8b949e;
    }

    .copy-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #21262d;
      border: 1px solid #30363d;
      color: #8b949e;
      padding: 5px 10px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.8rem;
      transition: all 0.2s;
    }

    .copy-btn:hover {
      background: #30363d;
      color: #e4e4e4;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin-top: 20px;
    }

    .card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      padding: 30px;
      transition: all 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      border-color: rgba(255, 255, 255, 0.15);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .card-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 20px;
    }

    .card-icon {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
    }

    .card-icon.claude { background: linear-gradient(135deg, #d97706, #f59e0b); }
    .card-icon.vscode { background: linear-gradient(135deg, #0078d4, #00a2ed); }
    .card-icon.cursor { background: linear-gradient(135deg, #7c3aed, #a78bfa); }
    .card-icon.windsurf { background: linear-gradient(135deg, #10b981, #34d399); }

    .card h3 {
      font-size: 1.3rem;
      color: #fff;
    }

    .card-subtitle {
      color: #666;
      font-size: 0.85rem;
    }

    .steps {
      margin-top: 20px;
    }

    .step {
      display: flex;
      gap: 12px;
      margin-bottom: 15px;
    }

    .step-number {
      background: rgba(255, 255, 255, 0.1);
      color: #888;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      flex-shrink: 0;
    }

    .step-content {
      flex: 1;
    }

    .step-content strong {
      color: #00d4ff;
    }

    .config-file {
      background: #0d1117;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 15px;
      margin-top: 10px;
      font-family: 'Fira Code', 'Consolas', monospace;
      font-size: 0.8rem;
      overflow-x: auto;
      position: relative;
    }

    .config-file .key { color: #79c0ff; }
    .config-file .string { color: #a5d6ff; }
    .config-file .bracket { color: #8b949e; }

    .file-path {
      background: rgba(0, 212, 255, 0.1);
      color: #00d4ff;
      padding: 4px 8px;
      border-radius: 4px;
      font-family: 'Fira Code', 'Consolas', monospace;
      font-size: 0.8rem;
      display: inline-block;
      margin: 5px 0;
    }

    .note {
      background: rgba(251, 191, 36, 0.1);
      border-left: 3px solid #fbbf24;
      padding: 15px;
      margin-top: 15px;
      border-radius: 0 8px 8px 0;
      font-size: 0.9rem;
    }

    .note-title {
      color: #fbbf24;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .endpoint-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    .endpoint-table th,
    .endpoint-table td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .endpoint-table th {
      background: rgba(255, 255, 255, 0.05);
      color: #00d4ff;
      font-weight: 600;
    }

    .endpoint-table td code {
      background: rgba(0, 212, 255, 0.1);
      color: #00d4ff;
      padding: 2px 8px;
      border-radius: 4px;
      font-family: 'Fira Code', 'Consolas', monospace;
    }

    .method {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .method.get { background: #238636; color: #fff; }
    .method.post { background: #1f6feb; color: #fff; }
    .method.delete { background: #da3633; color: #fff; }

    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .tool-item {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 8px;
      padding: 15px;
    }

    .tool-item code {
      color: #7ee787;
      font-family: 'Fira Code', 'Consolas', monospace;
      font-size: 0.85rem;
    }

    .tool-item p {
      color: #888;
      font-size: 0.8rem;
      margin-top: 5px;
    }

    .new-badge {
      background: #f59e0b;
      color: #1a1a2e;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.65rem;
      font-weight: bold;
      margin-left: 5px;
    }

    footer {
      text-align: center;
      margin-top: 60px;
      padding-top: 30px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      color: #666;
    }

    footer a {
      color: #00d4ff;
      text-decoration: none;
    }

    .hidden { display: none !important; }

    @media (max-width: 768px) {
      h1 { font-size: 1.8rem; }
      .cards { grid-template-columns: 1fr; }
      .mode-selector { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Universal Browser MCP</h1>
      <p class="subtitle">Guia de Configuracao para IDEs e Clientes MCP</p>
    </header>

    <!-- Modo de Operacao -->
    <section class="section">
      <h2><span class="num">1</span> Escolha o Modo de Operacao</h2>

      <div class="mode-selector">
        <div class="mode-card active" onclick="selectMode('headless')">
          <h3><span class="icon">üñ•Ô∏è</span> Headless <span class="badge">Recomendado</span></h3>
          <p>Chrome roda em memoria, sem interface grafica. Ideal para automacao e servidores.</p>
          <ul class="features">
            <li>Mais rapido e leve</li>
            <li>Roda em servidores sem display</li>
            <li>Multiplas abas (handles)</li>
            <li>Um comando para iniciar tudo</li>
          </ul>
        </div>

        <div class="mode-card" onclick="selectMode('gui')">
          <h3><span class="icon">üåê</span> Com Interface</h3>
          <p>Chrome normal com janela visivel. Util para debug e desenvolvimento.</p>
          <ul class="features">
            <li>Ve o que esta acontecendo</li>
            <li>Bom para debug</li>
            <li>Multiplas abas (handles)</li>
            <li>Requer display grafico</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Headless Mode -->
    <section class="section" id="headless-section">
      <h2><span class="num">2</span> Iniciar em Modo Headless</h2>

      <p>Execute um unico comando para iniciar o Chrome headless + servidor MCP:</p>

      <div class="command-box">
        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
        <code>
          <span class="comment"># Na raiz do projeto</span><br>
          ./start-headless.sh
        </code>
      </div>

      <p style="margin-top: 15px;">O script vai:</p>
      <ul style="margin: 10px 0 0 20px; color: #888;">
        <li>Iniciar o servidor MCP na porta <code style="color: #7ee787;">8080</code></li>
        <li>Iniciar o Chrome headless com a extensao carregada</li>
        <li>Conectar tudo automaticamente</li>
      </ul>

      <div class="note" style="margin-top: 20px;">
        <div class="note-title">Requisitos</div>
        Google Chrome ou Chromium instalado no sistema.
      </div>
    </section>

    <!-- GUI Mode -->
    <section class="section hidden" id="gui-section">
      <h2><span class="num">2</span> Iniciar com Interface Grafica</h2>

      <div class="step">
        <div class="step-number">1</div>
        <div class="step-content">
          <strong>Inicie o servidor MCP:</strong>
          <div class="command-box">
            <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
            <code>cd mcp-server && npm start</code>
          </div>
        </div>
      </div>

      <div class="step">
        <div class="step-number">2</div>
        <div class="step-content">
          <strong>Carregue a extensao no Chrome:</strong>
          <ol style="margin: 10px 0 0 20px; color: #888;">
            <li>Abra <code style="color: #7ee787;">chrome://extensions</code></li>
            <li>Ative "Modo do desenvolvedor"</li>
            <li>Clique em "Carregar sem compactacao"</li>
            <li>Selecione a pasta <code style="color: #7ee787;">browser-extension</code></li>
          </ol>
        </div>
      </div>

      <div class="step">
        <div class="step-number">3</div>
        <div class="step-content">
          <strong>Verifique a conexao:</strong>
          <p style="color: #888;">O icone da extensao deve mostrar "Conectado"</p>
        </div>
      </div>
    </section>

    <!-- Endpoints -->
    <section class="section">
      <h2><span class="num">3</span> Endpoints Disponiveis</h2>

      <table class="endpoint-table">
        <thead>
          <tr>
            <th>Endpoint</th>
            <th>Metodo</th>
            <th>Descricao</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>/sse</code></td>
            <td><span class="method get">GET</span></td>
            <td>Conexao SSE para clientes MCP (compativel com todos os clientes)</td>
          </tr>
          <tr>
            <td><code>/messages</code></td>
            <td><span class="method post">POST</span></td>
            <td>Envio de mensagens via SSE transport</td>
          </tr>
          <tr>
            <td><code>/mcp</code></td>
            <td><span class="method post">POST</span></td>
            <td>Streamable HTTP - initialize + requests (clientes modernos)</td>
          </tr>
          <tr>
            <td><code>/mcp</code></td>
            <td><span class="method get">GET</span></td>
            <td>Streamable HTTP - stream server-initiated messages</td>
          </tr>
          <tr>
            <td><code>/mcp</code></td>
            <td><span class="method delete">DELETE</span></td>
            <td>Streamable HTTP - encerrar sessao</td>
          </tr>
          <tr>
            <td><code>/health</code></td>
            <td><span class="method get">GET</span></td>
            <td>Health check do servidor</td>
          </tr>
          <tr>
            <td><code>/</code></td>
            <td><span class="method get">GET</span></td>
            <td>Informacoes do servidor</td>
          </tr>
        </tbody>
      </table>

      <div class="note">
        <div class="note-title">Dois transportes suportados</div>
        O servidor suporta <strong>SSE</strong> (compativel com todos os clientes MCP atuais) e <strong>Streamable HTTP</strong> (padrao moderno). Use <code style="color: #7ee787;">/sse</code> na configuracao dos clientes. Cada cliente recebe uma sessao isolada, permitindo multiplos clientes simultaneos sem conflitos.
      </div>
    </section>

    <!-- Tools de Tabs -->
    <section class="section">
      <h2><span class="num">4</span> Ferramentas de Tabs (Handles) <span class="new-badge">NOVO</span></h2>

      <p>Agora voce pode gerenciar multiplas abas na mesma sessao:</p>

      <div class="tools-grid">
        <div class="tool-item">
          <code>open_new_tab</code>
          <p>Abre nova aba com URL opcional</p>
        </div>
        <div class="tool-item">
          <code>get_tab_handles</code>
          <p>Lista todas as abas abertas</p>
        </div>
        <div class="tool-item">
          <code>switch_to_tab</code>
          <p>Muda para uma aba especifica</p>
        </div>
        <div class="tool-item">
          <code>close_tab</code>
          <p>Fecha uma aba especifica</p>
        </div>
        <div class="tool-item">
          <code>get_current_tab</code>
          <p>Retorna a aba ativa</p>
        </div>
      </div>

      <div class="config-file" style="margin-top: 20px;">
<pre style="color: #e4e4e4;"><span class="comment">// Exemplo de uso</span>
1. create_automation_session  <span class="comment">// Cria sessao</span>
2. navigate_to "google.com"   <span class="comment">// Navega</span>
3. open_new_tab "github.com"  <span class="comment">// Abre 2a aba</span>
4. get_tab_handles            <span class="comment">// Lista: [tab1, tab2]</span>
5. switch_to_tab tab1         <span class="comment">// Volta pro Google</span>
6. close_tab tab2             <span class="comment">// Fecha GitHub</span></pre>
      </div>
    </section>

    <!-- Configurar IDE -->
    <section class="section">
      <h2><span class="num">5</span> Configurar seu Cliente MCP</h2>

      <div class="cards">
        <!-- Claude Code CLI -->
        <div class="card">
          <div class="card-header">
            <div class="card-icon claude">C</div>
            <div>
              <h3>Claude Code (CLI)</h3>
              <span class="card-subtitle">Terminal / Command Line</span>
            </div>
          </div>

          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                Edite o arquivo:
                <div class="file-path">~/.claude/claude_desktop_config.json</div>
              </div>
            </div>

            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                Adicione:
                <div class="config-file">
                  <button class="copy-btn" onclick="copyConfig(this)">Copiar</button>
<pre><span class="bracket">{</span>
  <span class="key">"mcpServers"</span>: <span class="bracket">{</span>
    <span class="key">"universal-browser"</span>: <span class="bracket">{</span>
      <span class="key">"url"</span>: <span class="string">"http://localhost:8080/sse"</span>
    <span class="bracket">}</span>
  <span class="bracket">}</span>
<span class="bracket">}</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- VS Code -->
        <div class="card">
          <div class="card-header">
            <div class="card-icon vscode">VS</div>
            <div>
              <h3>VS Code</h3>
              <span class="card-subtitle">Claude Extension</span>
            </div>
          </div>

          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                Abra <strong>Settings</strong> (Ctrl+,)
              </div>
            </div>

            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                Em <strong>settings.json</strong>:
                <div class="config-file">
                  <button class="copy-btn" onclick="copyConfig(this)">Copiar</button>
<pre><span class="key">"claude.mcpServers"</span>: <span class="bracket">{</span>
  <span class="key">"universal-browser"</span>: <span class="bracket">{</span>
    <span class="key">"url"</span>: <span class="string">"http://localhost:8080/sse"</span>
  <span class="bracket">}</span>
<span class="bracket">}</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Cursor -->
        <div class="card">
          <div class="card-header">
            <div class="card-icon cursor">Cu</div>
            <div>
              <h3>Cursor</h3>
              <span class="card-subtitle">AI Code Editor</span>
            </div>
          </div>

          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                Abra <strong>Cursor Settings</strong> (Ctrl+Shift+J)
              </div>
            </div>

            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <strong>Features</strong> &rarr; <strong>MCP Servers</strong>
                <div class="file-path">~/.cursor/mcp.json</div>
                <div class="config-file">
                  <button class="copy-btn" onclick="copyConfig(this)">Copiar</button>
<pre><span class="bracket">{</span>
  <span class="key">"mcpServers"</span>: <span class="bracket">{</span>
    <span class="key">"universal-browser"</span>: <span class="bracket">{</span>
      <span class="key">"url"</span>: <span class="string">"http://localhost:8080/sse"</span>
    <span class="bracket">}</span>
  <span class="bracket">}</span>
<span class="bracket">}</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Windsurf -->
        <div class="card">
          <div class="card-header">
            <div class="card-icon windsurf">W</div>
            <div>
              <h3>Windsurf</h3>
              <span class="card-subtitle">Codeium IDE</span>
            </div>
          </div>

          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                Edite o arquivo:
                <div class="file-path">~/.codeium/windsurf/mcp_config.json</div>
              </div>
            </div>

            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                Adicione:
                <div class="config-file">
                  <button class="copy-btn" onclick="copyConfig(this)">Copiar</button>
<pre><span class="bracket">{</span>
  <span class="key">"mcpServers"</span>: <span class="bracket">{</span>
    <span class="key">"universal-browser"</span>: <span class="bracket">{</span>
      <span class="key">"serverUrl"</span>: <span class="string">"http://localhost:8080/sse"</span>
    <span class="bracket">}</span>
  <span class="bracket">}</span>
<span class="bracket">}</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Testar -->
    <section class="section">
      <h2 style="color: #10b981;"><span class="num" style="background: #10b981;">6</span> Testar a Conexao</h2>

      <div class="command-box">
        <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
        <code>curl http://localhost:8080/health</code>
      </div>

      <p style="margin-top: 20px;">No seu IDE, peca ao Claude:</p>
      <div class="config-file" style="background: rgba(16, 185, 129, 0.1); border-color: #10b981;">
<pre style="color: #10b981;">"Crie uma sessao de automacao, navegue para google.com,
abra uma nova aba com github.com, e liste as abas abertas"</pre>
      </div>
    </section>

    <footer>
      <p>Universal Browser MCP v3.0 &copy; 2025</p>
    </footer>
  </div>

  <script>
    function selectMode(mode) {
      document.querySelectorAll('.mode-card').forEach(c => c.classList.remove('active'));
      event.currentTarget.classList.add('active');

      document.getElementById('headless-section').classList.toggle('hidden', mode !== 'headless');
      document.getElementById('gui-section').classList.toggle('hidden', mode !== 'gui');
    }

    function copyCode(btn) {
      const codeBlock = btn.parentElement.querySelector('code');
      const text = codeBlock.innerText;
      navigator.clipboard.writeText(text).then(() => {
        btn.textContent = 'Copiado!';
        setTimeout(() => btn.textContent = 'Copiar', 2000);
      });
    }

    function copyConfig(btn) {
      const pre = btn.parentElement.querySelector('pre');
      const text = pre.innerText;
      navigator.clipboard.writeText(text).then(() => {
        btn.textContent = 'Copiado!';
        setTimeout(() => btn.textContent = 'Copiar', 2000);
      });
    }
  </script>
</body>
</html>
